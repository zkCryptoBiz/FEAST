!function(){function e(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function n(n){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?e(Object(s),!0).forEach((function(e){i(n,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):e(Object(s)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(s,e))}))}return n}function i(e,n,i){return(n=function(e){var n=function(e){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof n?n:n+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}System.register(["./app-legacy.Dy1QKECF.js","./DeliveryMethodSelectorSection-legacy.DyueKAcW.js","./LocalizationExtensionField-legacy.DiLbpQEF.js","./PayButtonSection-legacy.es0F5ZPt.js","./component-ShopPayVerificationSwitch-legacy.DFtAW-f4.js","./useEditorShopPayNavigation-legacy.CyVyVVIZ.js","./VaultedPayment-legacy.cwqbW0ax.js","./RememberMeDescriptionText-legacy.DkSMUMjd.js","./useSubscribeMessenger-legacy.y4xzc9Ae.js","./index-legacy.B3r7bQk_.js"],(function(e,i){"use strict";var t,s,r,l,a,d,o,c,u,h,p,m,g,y,v,f,b,_,C,P,w,k,S,D,I,M,x,A,O,j,R,E,T,V,N,L,z,B,F,Y,$,G,H,U,W,K,J,q,Q,X,Z,ee,ne,ie,te,se,re,le,ae,de,oe,ce,ue,he,pe,me,ge,ye,ve,fe,be,_e,Ce,Pe,we,ke,Se,De,Ie,Me,xe,Ae,Oe,je,Re,Ee,Te,Ve,Ne,Le,ze,Be,Fe,Ye,$e,Ge,He,Ue,We,Ke,Je,qe,Qe,Xe,Ze,en,nn,tn,sn,rn,ln,an,dn,on,cn,un,hn,pn,mn,gn,yn,vn,fn,bn,_n,Cn,Pn,wn,kn,Sn,Dn,In,Mn,xn,An,On,jn,Rn,En,Tn,Vn,Nn,Ln,zn,Bn,Fn,Yn,$n,Gn;return{setters:[e=>{t=e.h1,s=e.h2,r=e._,l=e.T,a=e.a,d=e.jA,o=e.en,c=e.jB,u=e.y,h=e.az,p=e.d,m=e.w,g=e.G,y=e.eI,v=e.jC,f=e.fQ,b=e.jd,_=e.cv,C=e.h,P=e.iN,w=e.H,k=e.jg,S=e.K,D=e.ab,I=e.iX,M=e.B,x=e.aN,A=e.X,O=e.ap,j=e.bI,R=e.a$,E=e.I,T=e.jD,V=e.am,N=e.f$,L=e.fW,z=e.js,B=e.be,F=e.jE,Y=e.fK,$=e.hd,G=e.aK,H=e.f6,U=e.f3,W=e.jF,K=e.aI,J=e.aM,q=e.jG,Q=e.jH,X=e.g6,Z=e.aQ,ee=e.fX,ne=e.jI,ie=e.jJ,te=e.jK,se=e.eC,re=e.J,le=e.eb,ae=e.a4,de=e.aR,oe=e.iT,ce=e.jL,ue=e.du,he=e.aL,pe=e.jM,me=e.z,ge=e.jN,ye=e.cV,ve=e.gF,fe=e.a3,be=e.cX,_e=e.c_,Ce=e.c$,Pe=e.d0,we=e.cY,ke=e.cZ,Se=e.W,De=e.gJ,Ie=e.jO,Me=e.jP,xe=e.d7,Ae=e.d6,Oe=e.d8,je=e.jQ,Re=e.jR,Ee=e.b7,Te=e.d9,Ve=e.gL,Ne=e.gM,Le=e.gK,ze=e.gT,Be=e.cD,Fe=e.jS,Ye=e.ce,$e=e.cc,Ge=e.jT,He=e.jU,Ue=e.jV,We=e.bf,Ke=e.Y,Je=e.e3,qe=e.i,Qe=e.as,Xe=e.jW,Ze=e.gc,en=e.bt,nn=e.j,tn=e.jX,sn=e.jY,rn=e.at,ln=e.fl,an=e.gQ,dn=e.jZ,on=e.f1,cn=e.aW,un=e.dJ,hn=e.hM,pn=e.S,mn=e.fz,gn=e.j_,yn=e.d3,vn=e.fx,fn=e.d4,bn=e.cE,_n=e.fy,Cn=e.gd,Pn=e.ft,wn=e.de,kn=e.fO,Sn=e.j$,Dn=e.cl,In=e.k0,Mn=e.ao,xn=e.g8,An=e.k1,On=e.jc,jn=e.k2},e=>{Rn=e.D,En=e.S,Tn=e.u,Vn=e.E,Nn=e.a,Ln=e.P},e=>{zn=e.R,Bn=e.u,Fn=e.L},e=>{Yn=e.R,$n=e.P},e=>{Gn=e.default},null,null,null,null,null],execute:function(){var Hn=document.createElement("style");Hn.textContent=".ILN3z>*{border-bottom:1px solid var(--x-default-color-border)}.TiyE2>*:first-child{border-bottom:none;padding-bottom:0}.wyrwY>*:last-child{border-bottom:none;padding-bottom:0}@media (max-width: 999px){._8S1mj>*:last-child{border-bottom:1px solid var(--x-default-color-border);padding-bottom:var(--x-spacing-large-100)}}\n/*$vite$:1*/",document.head.appendChild(Hn),e({OnePageContent:hi,PartialVaultedMarketingConsentMarkup:mi,VaultedExtensionsSection:gi,default:function({children:e}){const n=U({shopPay:!0,default:!1}),i=Je("simulated"),{searchParams:t}=qe(),s=i&&Boolean(t.get("shop_pay_sim"));return s||n?a(Un,{simulated:s,children:[e,a(hi,{})]}):a(M,{children:[e,a(hi,{})]})}});const Un=t({load:()=>s((()=>r((()=>i.import("./component-ShopPayWrapper-legacy.BBwMoX_z.js")),void 0)))});function Wn({filteredAvailableDeliveryAddresses:e,selectedAddressId:n,handleChange:i}){const t=l((()=>e?new Map(e.map((e=>[e.id,e.address]))):new Map),[e]),s=l((()=>new Map),[]);return a(o.Provider,{value:!0,children:a(d,{id:"modal_shipping_address",addressType:"shipping",selectedId:n,onChange:i,choices:s,ephemeralAddressChoices:t})})}function Kn({shippingAddress:e}){const{nameLine:n,primary:i,secondary:t}=c({address:e});return a(p,{padding:"large100",background:"subdued",borderRadius:"base",children:a(u,{appearance:"accent",children:[a(h,{emphasis:"bold",children:`${n}, ${i}`}),a(h,{children:t})]})})}function Jn(){const e=m(),n=g(),i=n.mustSelectProvidedAddress.value,t=n.availableDeliveryAddresses.value,[s]=y(),{setSelectedAddress:r,selectedAddress:d}=v(),o=f(),c=!!o&&b(o),{record:u}=_(),{name:h}=C(),[p]=P(),[R,E]=w(null==d?void 0:d.id),T=l((()=>i?t:null==t?void 0:t.filter((e=>!s.find((n=>k(n.address,e.address)))))),[s,t,i]),V=l((()=>null==s?void 0:s.some((e=>!!d&&k(e.address,d.address)))),[d,s]),N=0===(null==T?void 0:T.length),L=t&&t.length>=1&&!N&&!V,z=(null==s?void 0:s.length)>=1,B=Boolean(!i&&L&&z&&!c),[F,Y]=w(B);S((()=>{F&&u({schemaId:"shopify_pay_payment_page_ui_impression/2.0",payload:{elementText:1===(null==T?void 0:T.length)?"single_address":"multiple_addresses",elementType:"shop_pay_merchant_set_address_modal",shopAccountUuid:p}})}),[F]);const $=D((e=>{u({schemaId:"shopify_pay_payment_page_ui_interaction/1.1",payload:{action:e}})}),[u]),G=D((()=>{$("shop_pay_proposed_address_modal_continue");const e=null==T?void 0:T.find((e=>e.id===R));r(e,"shipping_address"),Y(!1)}),[T,R,r,$]),H=D((()=>{$("shop_pay_proposed_address_modal_use_saved_address");const e=I(s);e&&r(e,"shipping_address"),Y(!1)}),[r,s,$]),U=l((()=>T?new Map(T.map((e=>[e.id,e]))):new Map),[T]),W=D((e=>{const n=U.get(e);E(n.id)}),[U,E]),K=1===(null==T?void 0:T.length)?a(Kn,{shippingAddress:T[0].address}):a(Wn,{filteredAvailableDeliveryAddresses:T,selectedAddressId:R,handleChange:W});return a(j,{size:"large",open:F,padding:!0,title:e("shop_pay.review_address_modal.title","Review address"),onClose:G,children:[a(M,{children:e("shop_pay.review_address_modal.subtitle",{count:(null==T?void 0:T.length)||0,merchant:h},{one:"This order will be shipped to the address provided by %{merchant}.",other:"This order will be shipped to an address provided by %{merchant}. Select a shipping address."})}),a(x,{spacing:"base"}),K,a(x,{spacing:"large200"}),a(A,{spacing:"small400",children:[a(O,{kind:"primary",inlineSize:"fill",onPress:G,children:e("shop_pay.review_address_modal.continue","Continue with this address")}),a(O,{kind:"secondary",inlineSize:"fill",onPress:H,children:e("shop_pay.review_address_modal.use_saved_address","Change address")})]})]})}const qn={title:"Shop",style:{fill:"var(--x-default-color-icon)",width:44,height:17}};function Qn(){const e=m()("shop_pay_remember_me.secure_label","Secure and encrypted");return a(R,{columns:["fill","auto"],children:[a(R,{columns:["auto","fill"],spacing:"small400",blockAlignment:"center",children:[a(E,{size:"extraSmall",source:"lock"}),a(h,{appearance:"subdued",size:"small",children:e})]}),a(p,{children:a(T,n({},qn))})]})}function Xn(){const e=m();return a(A,{spacing:"none",children:[a(x,{spacing:"small100"}),a(V,{level:2,children:e("shop_pay_remember_me.title","Remember me")}),a(x,{}),a(N,{sectionId:"rememberMe",children:a(zn,{})}),a(x,{spacing:"small100"}),a(Qn,{})]})}function Zn(){var e;const{acceptTipPayments:n}=C(),i=L(),{shopifyInstallments:t}=z();B();const s=F(),r=Y(),l=$(),{Tips:d,PurchaseOrderNumberField:o,GiftCardRedemption:c,StoreCreditRedemption:u,Installments:h,PaymentMethodSelector:p}=G(),{isOrderEditCheckout:m}=H(),g=null===(e=null==l?void 0:l.tippingPaymentAllowed)||void 0===e||e,y=!m&&n&&g,v=U({shopPay:y&&!t(),default:y}),f=W({showTips:v,billingFormPosition:s}),b=K("purchase.checkout.payment-method-list.render-before"),_=K("purchase.checkout.payment-method-list.render-after");return a(Z,{target:"cart.paymentLines[0]",children:a(A,{children:[a(ei,{}),a(J,{extensions:b}),a(q,{}),a(u,{}),a(h,{}),a(A,{spacing:"large400",children:[a(Q,{dynamicPaymentExtensions:f.shift()||[],children:[a(p,{}),a(J,{extensions:_}),a(J,{extensions:f.shift()||[]}),a(c,{})]}),r&&a(X,{}),a(o,{showHeading:!1})]}),v&&a(M,{children:[a(N,{sectionId:"tips",children:a(d,{})}),a(J,{extensions:f.shift()||[]})]}),i&&a(Xn,{}),a(J,{extensions:f.flat()})]})})}function ei(){const e=m(),n=ee()?`${e("payment.billing_must_match_shipping_notice","Your payment methodâ€™s billing address must match the shipping address.")} `:"",i=e("payment.card_security_notice","All transactions are secure and encrypted.");return a(A,{spacing:"small400",children:[a(V,{level:1,children:e("payment.title","Payment")}),a(h,{appearance:"subdued",children:n+i})]})}function ni(){const e=m(),{availableDeliveryMethodsLoading:n,progressiveShippingRatesLoading:i}=ie(),t=n&&!i,{selectedDeliveryMethod:s}=te({onChange:()=>{},prerequisitesLoading:n||t}),r=s?e("order_summary.updated_shipping_method",{shipping_method:s.title},"Updated shipping method: %{shipping_method}"):void 0;return S((()=>{if(r)return se({content:r})}),[r]),null}function ii(){return ne("ONE_TIME_PURCHASE")?a(ni,{}):null}function ti({showSmsMarketingOptIn:e=!1}){const n=K("Checkout::Contact::RenderAfter"),i=K("Checkout::Dynamic::Render","INFORMATION1"),t=K("Checkout::Dynamic::Render","INFORMATION2"),{ContactForm:s}=G();return a(M,{children:[i.length?a(M,{children:[a(J,{extensions:i,spacing:"base"}),a(x,{spacing:"large300"})]}):null,a(he,{impressionType:"contact",impressionFeatures:[],children:[a(s,{showSmsMarketingOptIn:e}),n.length?a(M,{children:[a(x,{}),a(J,{extensions:n})]}):null,t.length?a(M,{children:[a(x,{spacing:"large300"}),a(J,{extensions:t,spacing:"large200"})]}):null]})]})}function si(){const e=m(),{setSelectedAddress:n,addresses:i}=pe("shipping"),t=D((()=>{i.length>0&&n(i[0])}),[i,n]);return i.length>0?a(R,{inlineAlignment:"start",children:a(me,{id:"save_shipping_information",textDecoration:"none",onPress:t,children:e("customer_account.saved_address_option_link","Use a saved address")})}):null}function ri({showSmsMarketingOptIn:e=!1}){return ge(),a(A,{spacing:"large300",children:[a(Rn,{}),a(ai,{showSmsMarketingOptIn:e})]})}const li=e=>a(Se,{children:e});function ai({showSmsMarketingOptIn:e}){const n=ye(),{method:i}=ve(),t=m(),{activeWalletSessionSignal:s}=fe(),{value:r}=be(),l=_e(),d=K("Checkout::DeliveryAddress::RenderBefore"),o=K("purchase.checkout.delivery-address.render-after"),{hasMultipleDeliveryGroups:c,onlyDeliveryGroupType:u}=Ce(),{extensionsBefore:p,extensionsAfter:g}=Pe({hasMultipleDeliveryGroups:c,targeted:!1}),y=we(),v=ke(),{negotiate:f}=re(),b=D((({shipping:e})=>{s.peek()||f({include:["shippingAddress"],fieldsToResolve:["deliveryNext"],silenceViolations:["non-delivery-address"],runListenersOnError:!0}),e.value=!0,y("sectionComplete",{section:"deliveryAddress",timestamp:new Date}),v({type:"section_complete",section:"deliveryAddress"})}),[s,f,y,v]),_=D((({shipping:e})=>{e.value=!1}),[]),C=e?a(Le,{}):null;switch(i){case"PICKUP_POINT":return a(M,{children:[a(N,{sectionId:"pickupPoints",children:a(Ne,{})}),C]});case"PICK_UP":return a(M,{children:[a(N,{sectionId:"localPickup",children:a(Ve,{})}),C]});default:return a(N,{sectionId:"shipping",children:[a(Se,{accessibilityLabel:t("delivery_options.shipping_address","Shipping address"),children:a(A,{spacing:"base",children:[a(J,{extensions:d}),a(A,{spacing:"large300",children:[a(De,{children:a(Ie,{onValid:b,onInvalid:_,children:a(Me,{children:[a(si,{}),a(En,{}),C]})})}),a(J,{extensions:o}),a(A,{spacing:l?"small400":"base",children:[a(V,{level:2,children:t("shipping.shipping_method_title","Shipping method")}),a(xe,{children:[Ae("shipping.shipping_method_notice",n)?a(h,{children:t("shipping.shipping_method_notice"," ")}):null,a(J,{extensions:p,options:{groupType:u&&Oe(u),includeDeliverySelectionGroups:!1},render:li}),a(je,{children:[a(Re,{}),a(Ee.Preload,{})]}),a(J,{extensions:g,options:{groupType:u&&Oe(u),includeDeliverySelectionGroups:!1},render:li})]})]})]})]})}),(null==r?void 0:r.refuseDutiesPermitted)&&a(Se,{accessibilityLabel:t("shipping.duties_and_taxes_title","Duties and taxes"),children:a(A,{spacing:"base",children:[a(V,{level:2,children:t("shipping.duties_and_taxes_title","Duties and taxes")}),a(Te,{})]})})]})}}function di({showSmsMarketingOptIn:e=!1}){const n=m(),i=ee(),{NoticeBanners:t,DeliveryHeading:s}=G(),r=K("Checkout::Dynamic::Render","DELIVERY1");return a(Be,{children:a(A,{children:[a(A,{spacing:"small400",children:[a(s,{}),i&&a(h,{appearance:"subdued",children:n("shipping.shipping_used_as_billing_notice","This will also be used as your billing address for this order.")})]}),a(t,{section:"delivery"}),a(ze,{children:a(ri,{showSmsMarketingOptIn:e})}),a(J,{extensions:r})]})})}function oi(){const e=g(),n=e.email.value,i=e.phone.value,t=m(),{isOrderEditCheckout:s}=H(),r=Fe(),[l,d]=w(!1),o=U({customerAccount:n&&"string"==typeof n&&r,default:!1}),{VaultedContact:c}=G(),u=U({businessCustomer:!1,shopPay:!1,default:!0}),h=o&&a(Gn,{email:n,open:l,showPopover:e=>{d(e)}});if(s&&u){const e=n||i;return a(M,{children:[a(Ye,{id:"contact",label:t("contact.contact_method_title","Contact"),summary:e?a("p",{children:e}):a($e,{})}),h]})}return a(M,{children:[a(c,{emailAddress:n}),h]})}const ci={DivideChildren:"ILN3z","DivideChildren--no-initial-divider":"TiyE2","DivideChildren--no-final-divider":"wyrwY","DivideChildren--final-mobile-divider":"_8S1mj"};function ui({hideLastDivider:e}){const i=Ge(),{negotiate:t}=re(),{isOrderEditCheckout:s}=H(),{shippingRequired:r}=ue(),{shippingRequired:l}=ue(),d=s&&l,{VaultedPayment:o,ReviewNotice:c,VaultedDelivery:u,VaultedBillingAddress:h,VaultedCashRedemption:m}=G(),g=He(),y=Ue(),v=U({guest:!0,default:!1}),f=U({businessCustomer:i.payment,guest:!0,default:!1}),b=U({amazonPay:!0,buyWithPrime:!0,payPal:!0,googlePay:!0,shopPay:!0,default:!1}),_=U({businessCustomer:!0,default:!1}),C=i.delivery&&(r||d&&s),P=U({businessCustomer:!r,default:!1}),w=[...i.contact?[a(oi,{},"contact")]:[],...C?[a(u,{},"delivery")]:[],...function(){if(s)return i.payment?[a(o,{},"payment")]:[];const e=[];return P&&e.push(a(h,{},"businessCustomerBilling")),i.payment&&(e.push(a(o,{},"payment")),e.push(a(m,{},"cashRedemption")),i.billing&&!P&&e.push(a(h,{},"billingAddress"))),e}()];return S((()=>{w.length>0&&t({silenceViolations:["all"]})}),[]),0===w.length?null:a(p,n(n({},{}),{},{children:[y?a(Yn,{}):null,y&&b?a(We,{below:"large",children:a(x,{})}):null,g&&a(c,{}),a("div",{className:Ke({[ci.DivideChildren]:!0,[ci["DivideChildren--no-final-divider"]]:e||!0===f,[ci["DivideChildren--no-initial-divider"]]:v,[ci["DivideChildren--final-mobile-divider"]]:_}),children:w})]}))}function hi(){const e=Qe(),n=g().email.value,{progress:i}=re(),{shippingRequired:t}=ue(),s=Ge(),[r]=Xe(),{postPurchaseEnabled:l}=Ze(),d=m(),o=en(),c=nn(),{isOrderEditCheckout:u}=H(),{emailMarketing:h,smsMarketing:p}=C(),y=tn(),v=we(),f=He(),b="OFF"!==h,_=sn(),P=L(),w=$(),{value:k}=le(),I=rn(An),O=y.hasViolation&&y.lineItems.length>0;!function(){var e;const{negotiate:n}=re(),i=le(),t=g(),s=t.shippingAddress.value,r=t.billingAddress.value,l=ae(),{value:a=[]}=de(),d=oe(a),o=ce(a),{shippingRequired:c}=ue(),u=c?s.countryCode:r.countryCode,h=null==i||null===(e=i.value)||void 0===e?void 0:e.countryCode,p=JSON.stringify(null==i?void 0:i.value,((e,n)=>void 0===n?null:n));S((()=>{d||o||h&&u!==h&&(l.counter({name:"country_code_mismatch",value:1}),l.log("[EnsureBackAndFrontEndCountryCodeAlignment] There was a mismatch between the preselected and the buyerIdentity countryCode on checkout load.",{selectedCountryCode:u,buyerIdentityCountryCode:h,buyerIdentity:p}),n({silenceViolations:["all"],progression:!1}))}),[])}(),S((()=>{O&&v("inventoryPriceChange",{element:{tagName:"modal"},timestamp:new Date,visible:!0})}),[O,v]);const j=D((()=>{y.updateProposal()}),[y]),R=ln({base:!0,medium:!1}),E=ln({base:!1,small:!0}),T=an(),V=U({guest:T,customerAccount:T,sdkCartHints:T,externalVault:T,default:!1}),z=K("Checkout::Contact::RenderAfter"),B=U({shopPay:o&&Boolean(R&&!E),default:!1}),F=U({shopPay:b,default:b&&s.contact}),Y=U({shopPay:Jn,default:M}),W=I&&!dn(null==k?void 0:k.countryCode),J=U({businessCustomer:!1,sdkCartHints:Boolean(b&&s.contact&&n),default:F&&!W&&!u}),q=U({shopPay:"belowPayment",default:s.payment?"belowPayment":"abovePayment"});let Q=U({shopPay:!1,businessCustomer:!1,default:"OFF"!==p});w&&!w.smsMarketingEnabled&&(Q=!1);const X=t&&!s.delivery?"delivery":s.contact?"root":"contact",ee=J&&"belowPayment"===q,ne=ee&&null!=R&&R,ie=!u&&J&&"abovePayment"===q&&!(null!=c&&c.acceptsEmailMarketing),te=!u&&Q&&"root"===X&&!(null!=c&&c.acceptsSmsMarketing),se=U({shopPay:M,sdkCartHints:M,default:Be}),he=U({guest:s.delivery,businessCustomer:!s.delivery&&s.payment,default:!1}),pe=U({guest:he&&!(s.contact&&s.payment),businessCustomer:he,default:!1}),me=s.contact&&(!s.delivery||!s.payment)&&z.length>0&&(ie||te||R)?z:void 0,{PriceChangeModal:ge,SignUpContact:ye}=G(),{reset:ve}=on(),{walletPaymentMethods:be}=fe(),_e=Tn(be),Ce=rn(On);cn((e=>{var n;"success"===e.type&&"review"===(null===(n=e.nextPage)||void 0===n?void 0:n.id)&&ve()}));const{main:{section:Pe}}=un(),ke=hn(Pe);return a(M,{children:[a(A,{spacing:pn.default("none").when({viewportInlineSize:{min:"extraSmall"}},"large200"),children:[u?a(A,{padding:pn.default(["large200","large200","none","large200"]).when({viewportInlineSize:{min:"extraSmall"}},"none"),children:a(mn,{})}):null,a(gn,{section:"top"}),a(yn,{onSubmit:()=>i(void 0,{skipToCompletion:f}),children:[a("div",{ref:_e,children:a(vn,{hideDivider:s.payment&&!ne,condition:!ke,children:[V&&a(M,{children:[a(vn,{condition:ke,hideDivider:!0,padding:B?["none","large200","large200","large200"]:void 0,children:a(A,{spacing:"none",children:a(N,{sectionId:"expressCheckout",children:a(fn,{section:"expressCheckout",children:a(Vn,{})})})})}),a(Nn,{})]}),a(vn,{condition:ke,padding:!V&&B?["none","large200","large200","large200"]:void 0,children:a(A,{spacing:"none",children:[!s.contact&&a(bn,{section:"contact",children:a(fn,{section:"contact",children:a(ti,{showSmsMarketingOptIn:!u&&Q&&"contact"===X})})}),!he&&a(ui,{hideLastDivider:ke}),_&&P&&a(M,{children:[a(x,{spacing:"small100"}),a(zn,{})]}),!ke&&a(fn,{section:"contact",children:a(mi,{renderAsVaulted:!0,showMarketingDisclosure:ie||ne,showSmsMarketingOptIn:te&&"belowPayment"!==q,afterContactExtensions:me})})]})})]})}),a(ye,{}),ke&&a(fn,{section:"contact",children:a(mi,{showMarketingDisclosure:ie,showSmsMarketingOptIn:te&&"belowPayment"!==q,afterContactExtensions:me})}),pe&&t&&a(_n,{condition:he,accessibilityLabel:d("shipping.delivery_title","Delivery"),children:a(ui,{hideLastDivider:ke})}),!s.delivery&&t&&a(Z,{target:"cart.deliveryGroups[0].deliveryAddress",children:a(bn,{section:"delivery",children:a(fn,{section:"delivery",children:a(N,{sectionId:"delivery",children:a(di,{showSmsMarketingOptIn:!u&&Q&&"delivery"===X})})})})}),e&&a(pi,{showVaultedStateMarketingDisclosureBelowPayment:ee,showVaultedStateMarketingDisclosureOnMobile:ne,showPartialVaultedStateSmsMarketingOptIn:te&&"belowPayment"===q,isSectionCustomized:ke,VaultedStateMarketingDisclosureWrapper:se,includeContactAfterExtensions:void 0===me})]},r),l&&a(Cn,{})]}),O&&a(ge,{loading:y.loading,lineItems:y.lineItems,onClose:j}),t&&a(ii,{}),Ce&&a(Y,{}),a(Ln,{id:"OnePage"})]})}function pi({showVaultedStateMarketingDisclosureBelowPayment:e,showVaultedStateMarketingDisclosureOnMobile:n,isSectionCustomized:i,VaultedStateMarketingDisclosureWrapper:t,showPartialVaultedStateSmsMarketingOptIn:s,includeContactAfterExtensions:r}){var d;const o=m(),c=Ge(),u=Pn(),h=Bn(),{merchantPolicies:y,acceptTipPayments:v}=C(),{currentDetour:f}=wn(),b=rn(jn),_=kn(),P=U({shopPay:!c.payment,default:!1}),{isOrderEditCheckout:w}=H(),k=ln({base:!0,medium:!1}),S=g().localizationExtensions.value,I=S.length>0,O=pn.default("block").when({viewportInlineSize:{min:"medium"}},"none"),j=pn.default("none").when({viewportInlineSize:{min:"medium"}},"block"),R=pn.default("none").when({viewportInlineSize:{min:"small"}},"block"),{shopifyInstallments:E}=z(),{setChatHideTriggerNode:T}=Sn(),L=D((e=>{T(k&&e?e:null)}),[k,T]),B=e&&!k,F=$(),Y=null===(d=null==F?void 0:F.tippingPaymentAllowed)||void 0===d||d,W=c.payment&&v&&Y,q=U({shopPay:W&&!E(),default:W}),Q=Dn().isPartner(),X=null==y?void 0:y.find((e=>"subscription-policy"===e.handle)),Z=null!=X,ee=l((()=>b&&"thankYou"===(null==f?void 0:f.type)?"Checkout::ThankYou::Dynamic::Render":"Checkout::Dynamic::Render"),[null==f?void 0:f.type,b]),ne=K(ee,"ORDER_SUMMARY4"),ie=function({includeContactAfterExtensions:e}={includeContactAfterExtensions:!1}){const n=Ge(),i=K("Checkout::Contact::RenderAfter"),t=K("Checkout::Dynamic::Render","INFORMATION1"),s=K("Checkout::Dynamic::Render","INFORMATION2"),r=K("Checkout::Dynamic::Render","DELIVERY1"),a=K("Checkout::Dynamic::Render","DELIVERY2"),d=K("Checkout::Dynamic::Render","PAYMENT1"),o=K("Checkout::Dynamic::Render","PAYMENT2"),c=K("Checkout::Dynamic::Render","PAYMENT3");return l((()=>{let l=[];return n.contact&&(l=[...e?i:[],...t,...s]),n.delivery&&(l=[...l,...r,...a]),n.payment&&(l=[...l,...d,...o,...c]),l}),[n,e,i,t,s,r,a,d,o,c])}({includeContactAfterExtensions:r}),te=Boolean(_.value),{Tips:se,Rewards:re,CashRedemption:le,SubscriptionPolicy:ae,Captcha:de,MarketingDisclosure:oe,BillingSection:ce,PurchaseOptionsAgreement:ue,MobileOrderSummary:he,CheckoutAsGuest:pe}=G();return a(M,{children:a(In,{min:"medium",accessibilityLabel:o("payment.title","Payment"),hideDivider:!0,children:[!c.payment&&a(bn,{section:"payment",children:a(fn,{section:"payment",children:a(In,{max:"medium",accessibilityLabel:o("payment.title","Payment"),children:a(Zn,{})})})}),!c.payment&&a(le,{}),I&&a(Be,{accessibilityLabel:o("localized_fields.additional_information.title","Additional information"),children:a(A,{padding:k?"none":["large400","none","none","none"],children:[a(V,{level:2,children:o("localized_fields.additional_information.title","Additional information")}),S.map(((e,n)=>{const i=`${e.value.key}${n}`;return a(Fn,{localizationExtension:e,index:n},i)}))]})}),n&&i&&a(t,{children:a(oe,{})}),!w&&q&&a(p,{display:O,children:a(N,{sectionId:"tips",children:a(se,{renderInSection:k})})}),k&&ie.length?a(gi,{extensions:ie}):null,a(bn,{section:"summary",children:a(fn,{section:"summary",children:a("div",{ref:L,children:[a(In,{max:"medium",hideDivider:!0,children:[a(he,{}),a(A,{spacing:"large400",children:[a(A,{spacing:"base",children:[B&&P&&a(A,{spacing:"none",children:[a(x,{spacing:"base"}),a(Mn,{})]}),a(mi,{renderAsVaulted:!0,showMarketingDisclosure:B,showSmsMarketingOptIn:s,children:a(ce,{})}),!w&&q&&a(p,{display:j,children:a(N,{sectionId:"tips",children:a(se,{})})}),!k&&ie.length?a(gi,{extensions:ie}):null,te&&a(A,{padding:k?"none":["large400","none","none","none"],children:a(xn,{textProps:{appearance:"subdued",size:"small"}})})]}),a(A,{spacing:"large200",children:[u&&a(ue,{}),h&&a(de,{}),a($n,{}),Z&&a(ae,{policy:X}),k&&a(J,{extensions:ne,spacing:"large200"})]})]}),a(re,{}),!Q&&a(M,{children:[a(x,{spacing:"large100"}),a(p,{inlineAlignment:"center",children:a(pe,{})}),a(p,{display:R,children:a(x,{spacing:"base"})})]})]}),Q&&a(M,{children:[a(x,{spacing:"large100"}),a(p,{inlineAlignment:"center",children:a(pe,{})}),a(x,{spacing:"base"})]})]})})})]})})}function mi({showMarketingDisclosure:e,showSmsMarketingOptIn:n,afterContactExtensions:i,renderAsVaulted:t,children:s}){const{MarketingDisclosure:r}=G();return e||n||i?a(Z,{target:"cart.buyerIdentity",children:a(vn,{condition:!t,children:a(A,{spacing:t?"base":void 0,padding:t?["base","none","none","none"]:void 0,children:[(e||n)&&a(A,{spacing:e&&n?"base":"none",children:[e&&a(r,{}),n&&a(Le,{})]}),i&&a(J,{extensions:i}),s]})})}):s}function gi({extensions:e}){return a(Be,{hideDivider:"always",children:a(J,{spacing:"base",extensions:e})})}}}}))}();
